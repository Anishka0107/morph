.container
  -# %h1
  -#   Search for
  -#   = @q
  .search-header
    =form_tag search_path, method: "get", class: "form-inline" do
      %h1.label-heading
        %label Search
      .input-group.col-sm-12.col-md-8.col-lg-7
        %input.form-control.input-lg#query{required: "required", type: "search", autofocus: (@q.blank? ? true : false), maxlength: "256", name: "q", value: "#{@q if !@q.blank?}"}/
        .input-group-btn
          %button.btn.btn-primary.btn-lg{type: "submit"} Search

  %ul.nav.nav-tabs
    %li{class: ('active' unless @type == "Users"), role: "presentation"}
      = link_to search_path(q: @q, type: "Scrapers") do
        Scrapers
        %span.badge #{@scrapers.size}
    %li{class: ('active' if @type == "Users"), role: "presentation"}
      = link_to search_path(q: @q, type: "Users") do
        Users
        %span.badge #{@users.size}

  - if @type == "Users"
    = paginate @users
    = render partial: "users/user", collection: @users
    = paginate @users
  - else
    = paginate @scrapers
    = render partial: "sync/scrapers/scraper", collection: @scrapers
    = paginate @scrapers

  - if @scrapers.empty? && @users.empty?
    %h2 No results found
    %p
      Sorry, we couldn't find any scrapers or users relevant to your search term
      %strong “#{@q}”.
    %p
      Suggestions:

    %ul
      %li check the spelling
      %li try some more general or alternate terms

    %p You could also try browsing all #{link_to "scrapers", scrapers_path} or #{link_to "users", users_path}.
